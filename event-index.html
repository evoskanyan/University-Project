<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="event-style.css" rel="stylesheet">
</head>
<body>

<h3 align="center" class="invert1"> Events </h3>
<div class="heading2">
    <a  style="padding-top: 40px" href="main.html">
        <img id="logo" src="images/Capture.PNG" alt="Error" >
    </a>
</div>
<table width="80%" border="0" align="center">
    <tr>
        <td align="center">
            <input type="text" id="search-input">
            <button id="search-button">search</button>
        </td>
    </tr>
    <tr>
        <td>
            <form action method="post">
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" id="id0" class="invert"></td>
                        </tr>
                        <td id="date-id0" class="date"></td>
                        <td class="desc">Description:</td>

                        <tr>
                            <td></td>
                            <td id="desc-id0" class="desc1"></td>
                        </tr>


                        </tbody>
                    </table>
                    <img class="img1" src="images/event1.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id1"></td>
                        </tr>
                        <td id="date-id1" class="date"></td>
                        <td class="desc">Description:</td>
                        <tr>
                            <td></td>
                            <td id="desc-id1" class="desc1"></td>
                        </tr>


                        </tbody>
                    </table>
                    <img class="img1" src="images/event2%20(1).jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id2"></td>
                        </tr>
                        <td id="date-id2" class="date"></td>
                        <td class="desc">Description:</td>
                        <tr>
                            <td></td>
                            <td id="desc-id2" class="desc1"></td>
                        </tr>

                        </tbody>
                    </table>
                    <img class="img1"  src="images/event3.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id3">Event 4</td>
                        </tr>
                        <td id="date-id3" class="date"></td>
                        <td class="desc">Description:</td>
                        <tr>
                            <td></td>
                            <td id="desc-id3" class="desc1"></td>
                        </tr>


                        </tbody>
                    </table>
                    <img class="img1"  src="images/event3.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id4">Event 5</td>
                        </tr>
                        <td id="date-id4" class="date"></td>
                        <td class="desc">Description:</td>
                        <tr>
                            <td></td>
                            <td id="desc-id4" class="desc1"></td>
                        </tr>

                        </tbody>
                    </table>
                    <img class="img1"  src="images/event1.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id5">Event 6</td>
                        </tr>
                        <td id="date-id5" class="date"></td>
                        <td class="desc">Description:</td>
                        <tr>
                            <td></td>
                            <td id="desc-id5" class="desc1"></td>
                        </tr>

                        </tbody>
                    </table>
                    <img class="img1"  src="images/event3.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id6">Event 7</td>
                        </tr>
                        <td id="date-id6" class="date"></td>
                        <td class="desc">Description:</td>

                        <tr>
                            <td></td>
                            <td id="desc-id6" class="desc1"></td>
                        </tr>

                        </tbody>
                    </table>
                    <img class="img1"  src="images/event1.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <td>
                            <tr>
                                <td colspan="2" class="invert" id="id7">Event 8</td>

                            </tr>
                        <td id="date-id7" class="date"></td>
                        <td class="desc">Description:</td>

                        <tr>
                            <td></td>
                            <td id="desc-id7" class="desc1"></td>
                        </tr>


                        </td>


                        </tbody>
                    </table>
                    <img src="images/event4.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id8"></td>
                        </tr>
                        <td id="date-id8" class="date"></td>
                        <td class="desc">Description:</td>

                        <tr>
                            <td></td>
                            <td id="desc-id8" class="desc1"></td>
                        </tr>


                        </tbody>
                    </table>
                    <img class="img1"  src="images/event1.jpg">
                </div>
                <div class="event">
                    <table class="lecturers" align="center">
                        <tbody>
                        <tr>
                            <td colspan="2" class="invert" id="id9"></td>
                        </tr>
                        <td id="date-id9" class="date"></td>
                        <td class="desc">Description:</td>

                        <tr>
                            <td></td>
                            <td id="desc-id9" class="desc1"></td>
                        </tr>


                        </tbody>
                    </table>
                    <img class="img1"  src="images/event2%20(1).jpg">
                </div>
            </form>
        </td>

    </tr>

</table>


<script type="module">
    import {Event} from "./static/Classes.js";

    let events = [];
    events.push(new Event('First Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-08')));
    events.push(new Event('Second Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-09')));
    events.push(new Event('Third Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-15')));
    events.push(new Event('Forth Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-21')));
    events.push(new Event('Fifth Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-25')));
    events.push(new Event('Sixth Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-27')));
    events.push(new Event('Seventh Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-30')));
    events.push(new Event('Eighth Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-08-04')));
    events.push(new Event('Ninth Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-09-10')));
    events.push(new Event('Tenth Event ', 'Put your sneakers on, grab a friend and join an explosion of rainbow-tastic colors – all while supporting a good cause! Costumes are encouraged and welcome. ', new Date('2022-09-18')));
    localStorage.setItem('events', JSON.stringify(events))
    let arr = JSON.parse(localStorage.getItem('events'));
    for (let i = 0; i < arr.length; i++) {
        document.getElementById('id' + i).innerText = arr[i]._name;
        document.getElementById('desc-id' + i).innerText = arr[i]._description;
        document.getElementById('date-id' + i).innerText = events[i].date.getFullYear() + '-' + (events[i].date.getMonth() + 1) + '-' + events[i].date.getDate();
    }
    const searchButton = document.getElementById('search-button')
    searchButton.addEventListener('click', search);

    function search() {

        let cards = document.querySelectorAll('.event')
        let search_query = document.getElementById("search-input").value;

        for (let i = 0; i < cards.length; i++) {
            if (!cards[i].getElementsByTagName("tr")[1].firstChild.textContent.includes(search_query)) {
                cards[i].style.display = "none";
            } else {
                cards[i].style.display = "flex";
            }
        }
    }
</script>
</body>
</html>